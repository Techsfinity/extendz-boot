SET DB_CLOSE_DELAY -1;         
;              
CREATE USER IF NOT EXISTS SA SALT '560f1b31955d8bac' HASH '637342bfff7c08573dcafdbd11ccdcda1f984427a995177dac5f793c68b21121' ADMIN;            
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_BD3F0BCF_A473_4E5B_92A4_D12E04A7D373 START WITH 2 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_03396FD5_0A99_43B6_B125_4C896746FBEF START WITH 1 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_BE43FBD1_784D_4644_A7F0_C6FDCED24C5F START WITH 1 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_DEF08E8B_591A_48C4_90E5_CA44A1BAF23D START WITH 2 BELONGS_TO_TABLE;     
CREATE MEMORY TABLE PUBLIC.CAR(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_BD3F0BCF_A473_4E5B_92A4_D12E04A7D373) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_BD3F0BCF_A473_4E5B_92A4_D12E04A7D373,
    REGISTRATION_NUMBER VARCHAR(255)
);      
ALTER TABLE PUBLIC.CAR ADD CONSTRAINT PUBLIC.CONSTRAINT_1 PRIMARY KEY(ID);     
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.CAR;      
INSERT INTO PUBLIC.CAR(ID, REGISTRATION_NUMBER) VALUES
(1, 'CP NA 1212');      
CREATE MEMORY TABLE PUBLIC.DEPARTMENT(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_BE43FBD1_784D_4644_A7F0_C6FDCED24C5F) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_BE43FBD1_784D_4644_A7F0_C6FDCED24C5F,
    NAME VARCHAR(255) NOT NULL
);     
ALTER TABLE PUBLIC.DEPARTMENT ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.DEPARTMENT;               
CREATE MEMORY TABLE PUBLIC.DEPARTMENT_EMPLOYEES(
    DEPARTMENT_ID BIGINT NOT NULL,
    EMPLOYEES_ID BIGINT NOT NULL
);        
ALTER TABLE PUBLIC.DEPARTMENT_EMPLOYEES ADD CONSTRAINT PUBLIC.CONSTRAINT_F PRIMARY KEY(DEPARTMENT_ID, EMPLOYEES_ID);           
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.DEPARTMENT_EMPLOYEES;     
CREATE MEMORY TABLE PUBLIC.DEPARTMENT_PROJECTS(
    DEPARTMENT_ID BIGINT NOT NULL,
    PROJECTS_ID BIGINT NOT NULL
);          
ALTER TABLE PUBLIC.DEPARTMENT_PROJECTS ADD CONSTRAINT PUBLIC.CONSTRAINT_4B PRIMARY KEY(DEPARTMENT_ID, PROJECTS_ID);            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.DEPARTMENT_PROJECTS;      
CREATE MEMORY TABLE PUBLIC.EMPLOYEE(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_DEF08E8B_591A_48C4_90E5_CA44A1BAF23D) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_DEF08E8B_591A_48C4_90E5_CA44A1BAF23D,
    NAME VARCHAR(255) NOT NULL,
    CAR_ID BIGINT,
    DEPARTMENT_ID BIGINT
);          
ALTER TABLE PUBLIC.EMPLOYEE ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(ID);
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.EMPLOYEE; 
INSERT INTO PUBLIC.EMPLOYEE(ID, NAME, CAR_ID, DEPARTMENT_ID) VALUES
(1, 'Randika', 1, NULL);   
CREATE MEMORY TABLE PUBLIC.EMPLOYEE_PROJECTS(
    EMPLOYEE_ID BIGINT NOT NULL,
    PROJECT_ID BIGINT NOT NULL
);               
ALTER TABLE PUBLIC.EMPLOYEE_PROJECTS ADD CONSTRAINT PUBLIC.CONSTRAINT_F2 PRIMARY KEY(EMPLOYEE_ID, PROJECT_ID); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.EMPLOYEE_PROJECTS;        
CREATE MEMORY TABLE PUBLIC.PROJECT(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_03396FD5_0A99_43B6_B125_4C896746FBEF) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_03396FD5_0A99_43B6_B125_4C896746FBEF,
    NAME VARCHAR(255),
    DEPARTMENT_ID BIGINT
);       
ALTER TABLE PUBLIC.PROJECT ADD CONSTRAINT PUBLIC.CONSTRAINT_18 PRIMARY KEY(ID);
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PROJECT;  
CREATE MEMORY TABLE PUBLIC.PROJECT_EMPLOYEES(
    PROJECT_ID BIGINT NOT NULL,
    EMPLOYEE_ID BIGINT NOT NULL
);               
ALTER TABLE PUBLIC.PROJECT_EMPLOYEES ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(PROJECT_ID, EMPLOYEE_ID);  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PROJECT_EMPLOYEES;        
ALTER TABLE PUBLIC.DEPARTMENT_EMPLOYEES ADD CONSTRAINT PUBLIC.UK_GLHFS8S9V6J1UP1HMNU5U1ROO UNIQUE(EMPLOYEES_ID);               
ALTER TABLE PUBLIC.EMPLOYEE ADD CONSTRAINT PUBLIC.UK_HAFQWJQE2E9BCPGYJ6EVM52AP UNIQUE(NAME);   
ALTER TABLE PUBLIC.DEPARTMENT ADD CONSTRAINT PUBLIC.UK_1T68827L97CWYXO9R1U6T4P7D UNIQUE(NAME); 
ALTER TABLE PUBLIC.DEPARTMENT_PROJECTS ADD CONSTRAINT PUBLIC.UK_LE9O9C15WUAOEBKS2T3QBGBHJ UNIQUE(PROJECTS_ID); 
ALTER TABLE PUBLIC.EMPLOYEE_PROJECTS ADD CONSTRAINT PUBLIC.FK97JL81FSRBBLKQFOQWG2O7YPS FOREIGN KEY(EMPLOYEE_ID) REFERENCES PUBLIC.EMPLOYEE(ID) NOCHECK;        
ALTER TABLE PUBLIC.EMPLOYEE ADD CONSTRAINT PUBLIC.FK37DK34DRYN7QCTDVD015GEQ6A FOREIGN KEY(CAR_ID) REFERENCES PUBLIC.CAR(ID) NOCHECK;           
ALTER TABLE PUBLIC.PROJECT_EMPLOYEES ADD CONSTRAINT PUBLIC.FKCL7K41FTE3CQ0LYKR31Y46TS2 FOREIGN KEY(EMPLOYEE_ID) REFERENCES PUBLIC.EMPLOYEE(ID) NOCHECK;        
ALTER TABLE PUBLIC.EMPLOYEE_PROJECTS ADD CONSTRAINT PUBLIC.FKIN7837PBK9GD6VAQYSD1SI8D4 FOREIGN KEY(PROJECT_ID) REFERENCES PUBLIC.PROJECT(ID) NOCHECK;          
ALTER TABLE PUBLIC.PROJECT ADD CONSTRAINT PUBLIC.FKL7GA8I4RY2AMD4MB525TDMJF6 FOREIGN KEY(DEPARTMENT_ID) REFERENCES PUBLIC.DEPARTMENT(ID) NOCHECK;              
ALTER TABLE PUBLIC.DEPARTMENT_EMPLOYEES ADD CONSTRAINT PUBLIC.FKNOA5AXQOGT38RT5MR2Q5SABME FOREIGN KEY(EMPLOYEES_ID) REFERENCES PUBLIC.EMPLOYEE(ID) NOCHECK;    
ALTER TABLE PUBLIC.EMPLOYEE ADD CONSTRAINT PUBLIC.FKBEJTWVG9BXUS2MFFSM3SWJ3U9 FOREIGN KEY(DEPARTMENT_ID) REFERENCES PUBLIC.DEPARTMENT(ID) NOCHECK;             
ALTER TABLE PUBLIC.DEPARTMENT_PROJECTS ADD CONSTRAINT PUBLIC.FK8E5IBW2CQPP146K0DF0XQRFB3 FOREIGN KEY(PROJECTS_ID) REFERENCES PUBLIC.PROJECT(ID) NOCHECK;       
ALTER TABLE PUBLIC.DEPARTMENT_PROJECTS ADD CONSTRAINT PUBLIC.FK9X7K6XCQL6X9RK0SDMBSCWAXI FOREIGN KEY(DEPARTMENT_ID) REFERENCES PUBLIC.DEPARTMENT(ID) NOCHECK;  
ALTER TABLE PUBLIC.PROJECT_EMPLOYEES ADD CONSTRAINT PUBLIC.FK7O5TSARF50DRWFMRIMKGKP4DS FOREIGN KEY(PROJECT_ID) REFERENCES PUBLIC.PROJECT(ID) NOCHECK;          
ALTER TABLE PUBLIC.DEPARTMENT_EMPLOYEES ADD CONSTRAINT PUBLIC.FKB66Y4TJMEYJ55R61LV12MS3KW FOREIGN KEY(DEPARTMENT_ID) REFERENCES PUBLIC.DEPARTMENT(ID) NOCHECK; 
